<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book RubyOnRailsCasts -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Basics | RubyOnRailsCasts</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.3.3">
        <meta name="author" content="Micheal Gardner">
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-maxiang/maxiang.css">
        
    
    

        
    
    
    <link rel="next" href="../02/02.2.html" />
    
    
    <link rel="prev" href="../02/02.0.html" />
    

        <!-- head:end -->
    </head>
    <body>
        <!-- body:start -->
        
    <div class="book" data-level="3.1" data-basepath=".." data-revision="Mon Sep 14 2015 00:40:04 GMT-0400 (EDT)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="Preface.html">
            
                
                    <a href="../Preface.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        前言
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="01/01.0.html">
            
                
                    <a href="../01/01.0.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        效率工具
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="01/01.1.html">
            
                
                    <a href="../01/01.1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Ubuntu
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="01/01.2.html">
            
                
                    <a href="../01/01.2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Oh My Zsh
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="01/01.3.html">
            
                
                    <a href="../01/01.3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        spf13-vim
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="01/01.4.html">
            
                
                    <a href="../01/01.4.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        tmux
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="01/01.5.html">
            
                
                    <a href="../01/01.5.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        shell script
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="01/01.6.html">
            
                
                    <a href="../01/01.6.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        其他配置
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="01/01.13.html">
            
                
                    <a href="../01/01.13.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        总结
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="02/02.0.html">
            
                
                    <a href="../02/02.0.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Ruby
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="3.1" data-path="02/02.1.html">
            
                
                    <a href="../02/02.1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Basics
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="02/02.2.html">
            
                
                    <a href="../02/02.2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        OOP
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="02/02.3.html">
            
                
                    <a href="../02/02.3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        MetaProgramming
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="03/03.0.html">
            
                
                    <a href="../03/03.0.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Ruby On Rails
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="03/03.1.html">
            
                
                    <a href="../03/03.1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Configration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="03/03.2.html">
            
                
                    <a href="../03/03.2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        OOP
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="03/03.3.html">
            
                
                    <a href="../03/03.3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Meta
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="04/04.0.html">
            
                
                    <a href="../04/04.0.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        GEM
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="04/04.1.html">
            
                
                    <a href="../04/04.1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Padoc
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="04/04.2.html">
            
                
                    <a href="../04/04.2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        OOP
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="ref.html">
            
                
                    <a href="../ref.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        References
                    </a>
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >RubyOnRailsCasts</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="basics">Basics</h1>
<pre><code class="lang-ruby">
<span class="hljs-comment"># This is a comment</span>

<span class="hljs-comment">=begin
This is a multiline comment
No-one uses them
You shouldn&apos;t either
=end</span>

<span class="hljs-comment"># First and foremost: Everything is an object.</span>

<span class="hljs-comment"># Numbers are objects</span>

<span class="hljs-number">3</span>.<span class="hljs-keyword">class</span> <span class="hljs-comment">#=&gt; Fixnum</span>

<span class="hljs-number">3</span>.to_s <span class="hljs-comment">#=&gt; &quot;3&quot;</span>


<span class="hljs-comment"># Some basic arithmetic</span>
<span class="hljs-number">1</span> + <span class="hljs-number">1</span> <span class="hljs-comment">#=&gt; 2</span>
<span class="hljs-number">8</span> - <span class="hljs-number">1</span> <span class="hljs-comment">#=&gt; 7</span>
<span class="hljs-number">10</span> * <span class="hljs-number">2</span> <span class="hljs-comment">#=&gt; 20</span>
<span class="hljs-number">35</span> / <span class="hljs-number">5</span> <span class="hljs-comment">#=&gt; 7</span>
<span class="hljs-number">2</span>**<span class="hljs-number">5</span> <span class="hljs-comment">#=&gt; 32</span>

<span class="hljs-comment"># Arithmetic is just syntactic sugar</span>
<span class="hljs-comment"># for calling a method on an object</span>
<span class="hljs-number">1</span>.+(<span class="hljs-number">3</span>) <span class="hljs-comment">#=&gt; 4</span>
<span class="hljs-number">10</span>.* <span class="hljs-number">5</span> <span class="hljs-comment">#=&gt; 50</span>

<span class="hljs-comment"># Special values are objects</span>
<span class="hljs-keyword">nil</span> <span class="hljs-comment"># Nothing to see here</span>
<span class="hljs-keyword">true</span> <span class="hljs-comment"># truth</span>
<span class="hljs-keyword">false</span> <span class="hljs-comment"># falsehood</span>

<span class="hljs-keyword">nil</span>.<span class="hljs-keyword">class</span> <span class="hljs-comment">#=&gt; NilClass</span>
<span class="hljs-keyword">true</span>.<span class="hljs-keyword">class</span> <span class="hljs-comment">#=&gt; TrueClass</span>
<span class="hljs-keyword">false</span>.<span class="hljs-keyword">class</span> <span class="hljs-comment">#=&gt; FalseClass</span>

<span class="hljs-comment"># Equality</span>
<span class="hljs-number">1</span> == <span class="hljs-number">1</span> <span class="hljs-comment">#=&gt; true</span>
<span class="hljs-number">2</span> == <span class="hljs-number">1</span> <span class="hljs-comment">#=&gt; false</span>

<span class="hljs-comment"># Inequality</span>
<span class="hljs-number">1</span> != <span class="hljs-number">1</span> <span class="hljs-comment">#=&gt; false</span>
<span class="hljs-number">2</span> != <span class="hljs-number">1</span> <span class="hljs-comment">#=&gt; true</span>

<span class="hljs-comment"># apart from false itself, nil is the only other &apos;falsey&apos; value</span>

!<span class="hljs-keyword">nil</span>   <span class="hljs-comment">#=&gt; true</span>
!<span class="hljs-keyword">false</span> <span class="hljs-comment">#=&gt; true</span>
!<span class="hljs-number">0</span>     <span class="hljs-comment">#=&gt; false</span>

<span class="hljs-comment"># More comparisons</span>
<span class="hljs-number">1</span> &lt; <span class="hljs-number">10</span> <span class="hljs-comment">#=&gt; true</span>
<span class="hljs-number">1</span> &gt; <span class="hljs-number">10</span> <span class="hljs-comment">#=&gt; false</span>
<span class="hljs-number">2</span> &lt;= <span class="hljs-number">2</span> <span class="hljs-comment">#=&gt; true</span>
<span class="hljs-number">2</span> &gt;= <span class="hljs-number">2</span> <span class="hljs-comment">#=&gt; true</span>

<span class="hljs-comment"># Logical operators</span>
<span class="hljs-keyword">true</span> &amp;&amp; <span class="hljs-keyword">false</span> <span class="hljs-comment">#=&gt; false</span>
<span class="hljs-keyword">true</span> || <span class="hljs-keyword">false</span> <span class="hljs-comment">#=&gt; true</span>
!<span class="hljs-keyword">true</span> <span class="hljs-comment">#=&gt; false</span>

<span class="hljs-comment"># There are alternate versions of the logical operators with much lower</span>
<span class="hljs-comment"># precedence. These are meant to be used as flow-control constructs to chain</span>
<span class="hljs-comment"># statements together until one of them returns true or false.</span>

<span class="hljs-comment"># `do_something_else` only called if `do_something` succeeds.</span>
<span class="hljs-comment">#do_something() and do_something_else()</span>
<span class="hljs-comment"># `log_error` only called if `do_something` fails.</span>
<span class="hljs-comment">#do_something() or log_error()</span>


<span class="hljs-comment"># Strings are objects</span>

<span class="hljs-string">&apos;I am a string&apos;</span>.<span class="hljs-keyword">class</span> <span class="hljs-comment">#=&gt; String</span>
<span class="hljs-string">&quot;I am a string too&quot;</span>.<span class="hljs-keyword">class</span> <span class="hljs-comment">#=&gt; String</span>

placeholder = <span class="hljs-string">&apos;use string interpolation&apos;</span>
<span class="hljs-string">&quot;I can <span class="hljs-subst">#{placeholder}</span> when using double quoted strings&quot;</span>
<span class="hljs-comment">#=&gt; &quot;I can use string interpolation when using double quoted strings&quot;</span>

<span class="hljs-comment"># Prefer single quoted strings to double quoted ones where possible</span>
<span class="hljs-comment"># Double quoted strings perform additional inner calculations</span>

<span class="hljs-comment"># Combine strings, but not with numbers</span>
<span class="hljs-string">&apos;hello &apos;</span> + <span class="hljs-string">&apos;world&apos;</span>  <span class="hljs-comment">#=&gt; &quot;hello world&quot;</span>
<span class="hljs-comment"># &apos;hello &apos; + 3 #=&gt; TypeError: can&apos;t convert Fixnum into String</span>
<span class="hljs-string">&apos;hello &apos;</span> + <span class="hljs-number">3</span>.to_s <span class="hljs-comment">#=&gt; &quot;hello 3&quot;</span>

<span class="hljs-comment"># print to the output</span>
puts <span class="hljs-string">&quot;I&apos;m printing!&quot;</span>

<span class="hljs-comment"># Variables</span>
x = <span class="hljs-number">25</span> <span class="hljs-comment">#=&gt; 25</span>
x <span class="hljs-comment">#=&gt; 25</span>

<span class="hljs-comment"># Note that assignment returns the value assigned</span>
<span class="hljs-comment"># This means you can do multiple assignment:</span>

x = y = <span class="hljs-number">10</span> <span class="hljs-comment">#=&gt; 10</span>
x <span class="hljs-comment">#=&gt; 10</span>
y <span class="hljs-comment">#=&gt; 10</span>

<span class="hljs-comment"># By convention, use snake_case for variable names</span>
snake_case = <span class="hljs-keyword">true</span>

<span class="hljs-comment"># Use descriptive variable names</span>
path_to_project_root = <span class="hljs-string">&apos;/good/name/&apos;</span>
path = <span class="hljs-string">&apos;/bad/name/&apos;</span>

<span class="hljs-comment"># Symbols (are objects)</span>
<span class="hljs-comment"># Symbols are immutable, reusable constants represented internally by an</span>
<span class="hljs-comment"># integer value. They&apos;re often used instead of strings to efficiently convey</span>
<span class="hljs-comment"># specific, meaningful values</span>

<span class="hljs-symbol">:pending</span>.<span class="hljs-keyword">class</span> <span class="hljs-comment">#=&gt; Symbol</span>

status = <span class="hljs-symbol">:pending</span>

status == <span class="hljs-symbol">:pending</span> <span class="hljs-comment">#=&gt; true</span>

status == <span class="hljs-string">&apos;pending&apos;</span> <span class="hljs-comment">#=&gt; false</span>

status == <span class="hljs-symbol">:approved</span> <span class="hljs-comment">#=&gt; false</span>

<span class="hljs-comment"># Arrays</span>

<span class="hljs-comment"># This is an array</span>
array = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>] <span class="hljs-comment">#=&gt; [1, 2, 3, 4, 5]</span>

<span class="hljs-comment"># Arrays can contain different types of items</span>

[<span class="hljs-number">1</span>, <span class="hljs-string">&apos;hello&apos;</span>, <span class="hljs-keyword">false</span>] <span class="hljs-comment">#=&gt; [1, &quot;hello&quot;, false]</span>

<span class="hljs-comment"># Arrays can be indexed</span>
<span class="hljs-comment"># From the front</span>
array[<span class="hljs-number">0</span>] <span class="hljs-comment">#=&gt; 1</span>
array[<span class="hljs-number">12</span>] <span class="hljs-comment">#=&gt; nil</span>

<span class="hljs-comment"># Like arithmetic, [var] access</span>
<span class="hljs-comment"># is just syntactic sugar</span>
<span class="hljs-comment"># for calling a method [] on an object</span>
array.[] <span class="hljs-number">0</span> <span class="hljs-comment">#=&gt; 1</span>
array.[] <span class="hljs-number">12</span> <span class="hljs-comment">#=&gt; nil</span>

<span class="hljs-comment"># From the end</span>
array[-<span class="hljs-number">1</span>] <span class="hljs-comment">#=&gt; 5</span>

<span class="hljs-comment"># With a start index and length</span>
array[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>] <span class="hljs-comment">#=&gt; [3, 4, 5]</span>

<span class="hljs-comment"># Or with a range</span>
array[<span class="hljs-number">1</span>..<span class="hljs-number">3</span>] <span class="hljs-comment">#=&gt; [2, 3, 4]</span>

<span class="hljs-comment"># Add to an array like this</span>
array &lt;&lt; <span class="hljs-number">6</span> <span class="hljs-comment">#=&gt; [1, 2, 3, 4, 5, 6]</span>

<span class="hljs-comment"># Check if an item exists in an array</span>
array.<span class="hljs-keyword">include</span>?(<span class="hljs-number">1</span>) <span class="hljs-comment">#=&gt; true</span>

<span class="hljs-comment"># Hashes are Ruby&apos;s primary dictionary with keys/value pairs.</span>
<span class="hljs-comment"># Hashes are denoted with curly braces:</span>
hash = { <span class="hljs-string">&apos;color&apos;</span> =&gt; <span class="hljs-string">&apos;green&apos;</span>, <span class="hljs-string">&apos;number&apos;</span> =&gt; <span class="hljs-number">5</span> }

hash.keys <span class="hljs-comment">#=&gt; [&apos;color&apos;, &apos;number&apos;]</span>

<span class="hljs-comment"># Hashes can be quickly looked up by key:</span>
hash[<span class="hljs-string">&apos;color&apos;</span>] <span class="hljs-comment">#=&gt; &apos;green&apos;</span>
hash[<span class="hljs-string">&apos;number&apos;</span>] <span class="hljs-comment">#=&gt; 5</span>

<span class="hljs-comment"># Asking a hash for a key that doesn&apos;t exist returns nil:</span>
hash[<span class="hljs-string">&apos;nothing here&apos;</span>] <span class="hljs-comment">#=&gt; nil</span>

<span class="hljs-comment"># Since Ruby 1.9, there&apos;s a special syntax when using symbols as keys:</span>

new_hash = { <span class="hljs-symbol">defcon:</span> <span class="hljs-number">3</span>, <span class="hljs-symbol">action:</span> <span class="hljs-keyword">true</span> }

new_hash.keys <span class="hljs-comment">#=&gt; [:defcon, :action]</span>

<span class="hljs-comment"># Check existence of keys and values in hash</span>
new_hash.has_key?(<span class="hljs-symbol">:defcon</span>) <span class="hljs-comment">#=&gt; true</span>
new_hash.has_value?(<span class="hljs-number">3</span>) <span class="hljs-comment">#=&gt; true</span>

<span class="hljs-comment"># Tip: Both Arrays and Hashes are Enumerable</span>
<span class="hljs-comment"># They share a lot of useful methods such as each, map, count, and more</span>

<span class="hljs-comment"># Control structures</span>

<span class="hljs-keyword">if</span> <span class="hljs-keyword">true</span>
  <span class="hljs-string">&apos;if statement&apos;</span>
<span class="hljs-keyword">elsif</span> <span class="hljs-keyword">false</span>
  <span class="hljs-string">&apos;else if, optional&apos;</span>
<span class="hljs-keyword">else</span>
  <span class="hljs-string">&apos;else, also optional&apos;</span>
<span class="hljs-keyword">end</span>

<span class="hljs-keyword">for</span> counter <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..<span class="hljs-number">5</span>
  puts <span class="hljs-string">&quot;iteration <span class="hljs-subst">#{counter}</span>&quot;</span>
<span class="hljs-keyword">end</span>
<span class="hljs-comment">#=&gt; iteration 1</span>
<span class="hljs-comment">#=&gt; iteration 2</span>
<span class="hljs-comment">#=&gt; iteration 3</span>
<span class="hljs-comment">#=&gt; iteration 4</span>
<span class="hljs-comment">#=&gt; iteration 5</span>

<span class="hljs-comment"># HOWEVER, No-one uses for loops.</span>
<span class="hljs-comment"># Instead you should use the &quot;each&quot; method and pass it a block.</span>
<span class="hljs-comment"># A block is a bunch of code that you can pass to a method like &quot;each&quot;.</span>
<span class="hljs-comment"># It is analogous to lambdas, anonymous functions or closures in other</span>
<span class="hljs-comment"># programming languages.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># The &quot;each&quot; method of a range runs the block once for each element of the range.</span>
<span class="hljs-comment"># The block is passed a counter as a parameter.</span>
<span class="hljs-comment"># Calling the &quot;each&quot; method with a block looks like this:</span>

(<span class="hljs-number">1</span>..<span class="hljs-number">5</span>).each <span class="hljs-keyword">do</span> |counter|
  puts <span class="hljs-string">&quot;iteration <span class="hljs-subst">#{counter}</span>&quot;</span>
<span class="hljs-keyword">end</span>
<span class="hljs-comment">#=&gt; iteration 1</span>
<span class="hljs-comment">#=&gt; iteration 2</span>
<span class="hljs-comment">#=&gt; iteration 3</span>
<span class="hljs-comment">#=&gt; iteration 4</span>
<span class="hljs-comment">#=&gt; iteration 5</span>

<span class="hljs-comment"># You can also surround blocks in curly brackets:</span>
(<span class="hljs-number">1</span>..<span class="hljs-number">5</span>).each { |counter| puts <span class="hljs-string">&quot;iteration <span class="hljs-subst">#{counter}</span>&quot;</span> }

<span class="hljs-comment"># The contents of data structures can also be iterated using each.</span>
array.each <span class="hljs-keyword">do</span> |element|
  puts <span class="hljs-string">&quot;<span class="hljs-subst">#{element}</span> is part of the array&quot;</span>
<span class="hljs-keyword">end</span>
hash.each <span class="hljs-keyword">do</span> |key, value|
  puts <span class="hljs-string">&quot;<span class="hljs-subst">#{key}</span> is <span class="hljs-subst">#{value}</span>&quot;</span>
<span class="hljs-keyword">end</span>

counter = <span class="hljs-number">1</span>
<span class="hljs-keyword">while</span> counter &lt;= <span class="hljs-number">5</span> <span class="hljs-keyword">do</span>
  puts <span class="hljs-string">&quot;iteration <span class="hljs-subst">#{counter}</span>&quot;</span>
  counter += <span class="hljs-number">1</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment">#=&gt; iteration 1</span>
<span class="hljs-comment">#=&gt; iteration 2</span>
<span class="hljs-comment">#=&gt; iteration 3</span>
<span class="hljs-comment">#=&gt; iteration 4</span>
<span class="hljs-comment">#=&gt; iteration 5</span>

grade = <span class="hljs-string">&apos;B&apos;</span>

<span class="hljs-keyword">case</span> grade
<span class="hljs-keyword">when</span> <span class="hljs-string">&apos;A&apos;</span>
  puts <span class="hljs-string">&apos;Way to go kiddo&apos;</span>
<span class="hljs-keyword">when</span> <span class="hljs-string">&apos;B&apos;</span>
  puts <span class="hljs-string">&apos;Better luck next time&apos;</span>
<span class="hljs-keyword">when</span> <span class="hljs-string">&apos;C&apos;</span>
  puts <span class="hljs-string">&apos;You can do better&apos;</span>
<span class="hljs-keyword">when</span> <span class="hljs-string">&apos;D&apos;</span>
  puts <span class="hljs-string">&apos;Scraping through&apos;</span>
<span class="hljs-keyword">when</span> <span class="hljs-string">&apos;F&apos;</span>
  puts <span class="hljs-string">&apos;You failed!&apos;</span>
<span class="hljs-keyword">else</span>
  puts <span class="hljs-string">&apos;Alternative grading system, eh?&apos;</span>
<span class="hljs-keyword">end</span>
<span class="hljs-comment">#=&gt; &quot;Better luck next time&quot;</span>

<span class="hljs-comment"># cases can also use ranges</span>
grade = <span class="hljs-number">82</span>
<span class="hljs-keyword">case</span> grade
<span class="hljs-keyword">when</span> <span class="hljs-number">90</span>..<span class="hljs-number">100</span>
  puts <span class="hljs-string">&apos;Hooray!&apos;</span>
<span class="hljs-keyword">when</span> <span class="hljs-number">80</span>...<span class="hljs-number">90</span>
  puts <span class="hljs-string">&apos;OK job&apos;</span>
<span class="hljs-keyword">else</span>
  puts <span class="hljs-string">&apos;You failed!&apos;</span>
<span class="hljs-keyword">end</span>
<span class="hljs-comment">#=&gt; &quot;OK job&quot;</span>

<span class="hljs-comment"># exception handling:</span>
<span class="hljs-keyword">begin</span>
  <span class="hljs-comment"># code here that might raise an exception</span>
  raise <span class="hljs-constant">NoMemoryError</span>, <span class="hljs-string">&apos;You ran out of memory.&apos;</span>
<span class="hljs-keyword">rescue</span> <span class="hljs-constant">NoMemoryError</span> =&gt; exception_variable
  puts <span class="hljs-string">&apos;NoMemoryError was raised&apos;</span>, exception_variable
<span class="hljs-keyword">rescue</span> <span class="hljs-constant">RuntimeError</span> =&gt; other_exception_variable
  puts <span class="hljs-string">&apos;RuntimeError was raised now&apos;</span>
<span class="hljs-keyword">else</span>
  puts <span class="hljs-string">&apos;This runs if no exceptions were thrown at all&apos;</span>
<span class="hljs-keyword">ensure</span>
  puts <span class="hljs-string">&apos;This code always runs no matter what&apos;</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment"># Functions</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">double</span><span class="hljs-params">(x)</span></span>
  x * <span class="hljs-number">2</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment"># Functions (and all blocks) implicitly return the value of the last statement</span>
double(<span class="hljs-number">2</span>) <span class="hljs-comment">#=&gt; 4</span>

<span class="hljs-comment"># Parentheses are optional where the result is unambiguous</span>
double <span class="hljs-number">3</span> <span class="hljs-comment">#=&gt; 6</span>

double double <span class="hljs-number">3</span> <span class="hljs-comment">#=&gt; 12</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sum</span><span class="hljs-params">(x, y)</span></span>
  x + y
<span class="hljs-keyword">end</span>

<span class="hljs-comment"># Method arguments are separated by a comma</span>
sum <span class="hljs-number">3</span>, <span class="hljs-number">4</span> <span class="hljs-comment">#=&gt; 7</span>

sum sum(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>), <span class="hljs-number">5</span> <span class="hljs-comment">#=&gt; 12</span>

<span class="hljs-comment"># yield</span>
<span class="hljs-comment"># All methods have an implicit, optional block parameter</span>
<span class="hljs-comment"># it can be called with the &apos;yield&apos; keyword</span>

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">surround</span></span>
  puts <span class="hljs-string">&apos;{&apos;</span>
  <span class="hljs-keyword">yield</span>
  puts <span class="hljs-string">&apos;}&apos;</span>
<span class="hljs-keyword">end</span>

surround { puts <span class="hljs-string">&apos;hello world&apos;</span> }

<span class="hljs-comment"># {</span>
<span class="hljs-comment"># hello world</span>
<span class="hljs-comment"># }</span>


<span class="hljs-comment"># You can pass a block to a function</span>
<span class="hljs-comment"># &quot;&amp;&quot; marks a reference to a passed block</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">guests</span><span class="hljs-params">(&amp;block)</span></span>
  block.call <span class="hljs-string">&apos;some_argument&apos;</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment"># You can pass a list of arguments, which will be converted into an array</span>
<span class="hljs-comment"># That&apos;s what splat operator (&quot;*&quot;) is for</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">guests</span><span class="hljs-params">(*array)</span></span>
  array.each { |guest| puts guest }
<span class="hljs-keyword">end</span>

<span class="hljs-comment"># Define a class with the class keyword</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Human</span></span>

  <span class="hljs-comment"># A class variable. It is shared by all instances of this class.</span>
  <span class="hljs-variable">@@species</span> = <span class="hljs-string">&apos;H. sapiens&apos;</span>

  <span class="hljs-comment"># Basic initializer</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span><span class="hljs-params">(name, age = <span class="hljs-number">0</span>)</span></span>
    <span class="hljs-comment"># Assign the argument to the &quot;name&quot; instance variable for the instance</span>
    <span class="hljs-variable">@name</span> = name
    <span class="hljs-comment"># If no age given, we will fall back to the default in the arguments list.</span>
    <span class="hljs-variable">@age</span> = age
  <span class="hljs-keyword">end</span>

  <span class="hljs-comment"># Basic setter method</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">name=</span><span class="hljs-params">(name)</span></span>
    <span class="hljs-variable">@name</span> = name
  <span class="hljs-keyword">end</span>

  <span class="hljs-comment"># Basic getter method</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">name</span></span>
    <span class="hljs-variable">@name</span>
  <span class="hljs-keyword">end</span>

  <span class="hljs-comment"># The above functionality can be encapsulated using the attr_accessor method as follows</span>
  <span class="hljs-keyword">attr_accessor</span> <span class="hljs-symbol">:name</span>

  <span class="hljs-comment"># Getter/setter methods can also be created individually like this</span>
  <span class="hljs-keyword">attr_reader</span> <span class="hljs-symbol">:name</span>
  <span class="hljs-keyword">attr_writer</span> <span class="hljs-symbol">:name</span>

  <span class="hljs-comment"># A class method uses self to distinguish from instance methods.</span>
  <span class="hljs-comment"># It can only be called on the class, not an instance.</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">self</span>.<span class="hljs-title">say</span><span class="hljs-params">(msg)</span></span>
    puts msg
  <span class="hljs-keyword">end</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">species</span></span>
    <span class="hljs-variable">@@species</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>


<span class="hljs-comment"># Instantiate a class</span>
jim = <span class="hljs-constant">Human</span>.new(<span class="hljs-string">&apos;Jim Halpert&apos;</span>)

dwight = <span class="hljs-constant">Human</span>.new(<span class="hljs-string">&apos;Dwight K. Schrute&apos;</span>)

<span class="hljs-comment"># Let&apos;s call a couple of methods</span>
jim.species <span class="hljs-comment">#=&gt; &quot;H. sapiens&quot;</span>
jim.name <span class="hljs-comment">#=&gt; &quot;Jim Halpert&quot;</span>
jim.name = <span class="hljs-string">&quot;Jim Halpert II&quot;</span> <span class="hljs-comment">#=&gt; &quot;Jim Halpert II&quot;</span>
jim.name <span class="hljs-comment">#=&gt; &quot;Jim Halpert II&quot;</span>
dwight.species <span class="hljs-comment">#=&gt; &quot;H. sapiens&quot;</span>
dwight.name <span class="hljs-comment">#=&gt; &quot;Dwight K. Schrute&quot;</span>

<span class="hljs-comment"># Call the class method</span>
<span class="hljs-constant">Human</span>.say(<span class="hljs-string">&apos;Hi&apos;</span>) <span class="hljs-comment">#=&gt; &quot;Hi&quot;</span>

<span class="hljs-comment"># Variable&apos;s scopes are defined by the way we name them.</span>
<span class="hljs-comment"># Variables that start with $ have global scope</span>
<span class="hljs-variable">$var</span> = <span class="hljs-string">&quot;I&apos;m a global var&quot;</span>
<span class="hljs-keyword">defined</span>? <span class="hljs-variable">$var</span> <span class="hljs-comment">#=&gt; &quot;global-variable&quot;</span>

<span class="hljs-comment"># Variables that start with @ have instance scope</span>
<span class="hljs-variable">@var</span> = <span class="hljs-string">&quot;I&apos;m an instance var&quot;</span>
<span class="hljs-keyword">defined</span>? <span class="hljs-variable">@var</span> <span class="hljs-comment">#=&gt; &quot;instance-variable&quot;</span>

<span class="hljs-comment"># Variables that start with @@ have class scope</span>
<span class="hljs-variable">@@var</span> = <span class="hljs-string">&quot;I&apos;m a class var&quot;</span>
<span class="hljs-keyword">defined</span>? <span class="hljs-variable">@@var</span> <span class="hljs-comment">#=&gt; &quot;class variable&quot;</span>

<span class="hljs-comment"># Variables that start with a capital letter are constants</span>
<span class="hljs-constant">Var</span> = <span class="hljs-string">&quot;I&apos;m a constant&quot;</span>
<span class="hljs-keyword">defined</span>? <span class="hljs-constant">Var</span> <span class="hljs-comment">#=&gt; &quot;constant&quot;</span>

<span class="hljs-comment"># Class is also an object in ruby. So class can have instance variables.</span>
<span class="hljs-comment"># Class variable is shared among the class and all of its descendants.</span>

<span class="hljs-comment"># base class</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Human</span></span>
  <span class="hljs-variable">@@foo</span> = <span class="hljs-number">0</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">self</span>.<span class="hljs-title">foo</span></span>
    <span class="hljs-variable">@@foo</span>
  <span class="hljs-keyword">end</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">self</span>.<span class="hljs-title">foo=</span><span class="hljs-params">(value)</span></span>
    <span class="hljs-variable">@@foo</span> = value
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment"># derived class</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Worker</span> <span class="hljs-inheritance">&lt; <span class="hljs-parent">Human</span></span></span>
<span class="hljs-keyword">end</span>

<span class="hljs-constant">Human</span>.foo <span class="hljs-comment"># 0</span>
<span class="hljs-constant">Worker</span>.foo <span class="hljs-comment"># 0</span>

<span class="hljs-constant">Human</span>.foo = <span class="hljs-number">2</span> <span class="hljs-comment"># 2</span>
<span class="hljs-constant">Worker</span>.foo <span class="hljs-comment"># 2</span>

<span class="hljs-comment"># Class instance variable is not shared by the class&apos;s descendants.</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Human</span></span>
  <span class="hljs-variable">@bar</span> = <span class="hljs-number">0</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">self</span>.<span class="hljs-title">bar</span></span>
    <span class="hljs-variable">@bar</span>
  <span class="hljs-keyword">end</span>

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">self</span>.<span class="hljs-title">bar=</span><span class="hljs-params">(value)</span></span>
    <span class="hljs-variable">@bar</span> = value
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Doctor</span> <span class="hljs-inheritance">&lt; <span class="hljs-parent">Human</span></span></span>
<span class="hljs-keyword">end</span>

<span class="hljs-constant">Human</span>.bar <span class="hljs-comment"># 0</span>
<span class="hljs-constant">Doctor</span>.bar <span class="hljs-comment"># nil</span>

<span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">ModuleExample</span></span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span></span>
    <span class="hljs-string">&apos;foo&apos;</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment"># Including modules binds their methods to the class instances</span>
<span class="hljs-comment"># Extending modules binds their methods to the class itself</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span>
  <span class="hljs-keyword">include</span> <span class="hljs-constant">ModuleExample</span>
<span class="hljs-keyword">end</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span></span>
  extend <span class="hljs-constant">ModuleExample</span>
<span class="hljs-keyword">end</span>

<span class="hljs-constant">Person</span>.foo     <span class="hljs-comment"># =&gt; NoMethodError: undefined method `foo&apos; for Person:Class</span>
<span class="hljs-constant">Person</span>.new.foo <span class="hljs-comment"># =&gt; &apos;foo&apos;</span>
<span class="hljs-constant">Book</span>.foo       <span class="hljs-comment"># =&gt; &apos;foo&apos;</span>
<span class="hljs-constant">Book</span>.new.foo   <span class="hljs-comment"># =&gt; NoMethodError: undefined method `foo&apos;</span>

<span class="hljs-comment"># Callbacks are executed when including and extending a module</span>

<span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">ConcernExample</span></span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">self</span>.<span class="hljs-title">included</span><span class="hljs-params">(base)</span></span>
    base.extend(<span class="hljs-constant">ClassMethods</span>)
    base.send(<span class="hljs-symbol">:include</span>, <span class="hljs-constant">InstanceMethods</span>)
  <span class="hljs-keyword">end</span>

  <span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">ClassMethods</span></span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bar</span></span>
      <span class="hljs-string">&apos;bar&apos;</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>

  <span class="hljs-class"><span class="hljs-keyword">module</span> <span class="hljs-title">InstanceMethods</span></span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">qux</span></span>
      <span class="hljs-string">&apos;qux&apos;</span>
    <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Something</span></span>
  <span class="hljs-keyword">include</span> <span class="hljs-constant">ConcernExample</span>
<span class="hljs-keyword">end</span>

<span class="hljs-constant">Something</span>.bar     <span class="hljs-comment"># =&gt; &apos;bar&apos;</span>
<span class="hljs-constant">Something</span>.qux     <span class="hljs-comment"># =&gt; NoMethodError: undefined method `qux&apos;</span>
<span class="hljs-constant">Something</span>.new.bar <span class="hljs-comment"># =&gt; NoMethodError: undefined method `bar&apos;</span>
<span class="hljs-constant">Something</span>.new.qux <span class="hljs-comment"># =&gt; &apos;qux&apos;</span>
</code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../02/02.0.html" class="navigation navigation-prev " aria-label="Previous page: Ruby"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../02/02.2.html" class="navigation navigation-next " aria-label="Next page: OOP"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-maxiang/maxiang.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        <!-- body:end -->
    </body>
    <!-- End of book RubyOnRailsCasts -->
</html>
